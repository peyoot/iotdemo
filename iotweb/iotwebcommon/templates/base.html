{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet"  />
 <!--
    <link href="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@4.3.2/css/bootstrap5-toggle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"> 
    <link href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" rel="stylesheet">
  -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/mystyle.css' %}" /> 
    <link rel="stylesheet"  href="{% static 'css/access.css' %}">
    <!--   <link rel="stylesheet"  href="{% static 'css/general.css' %}"> -->
       <link rel="stylesheet"  href="{% static 'css/toastr.css' %}">
    <!-- Import Mapbox GL JS  -->
    <script src="https://cdn.eccee.com/mapbox-gl/2.9.2/mapbox-gl.js"></script>
    <link href="https://cdn.eccee.com/mapbox-gl/2.9.2/mapbox-gl.css" rel="stylesheet" />

    <title>{% block title %}{% endblock %}</title>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a id="banner-link" class="navbar-brand align-middle" href="https://www.eccee.com/webinar/digi">
    <div class="d-flex align-items-baseline">
        <img id="banner-logo" class="banner-icon" src="{% static 'images/digi_logo_banner_white.png' %}">
    </div>
    </a>
    <a class="navbar-brand" href="{% url 'home' %}">物联网应用演示</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="{% url 'home' %}">首页</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'comingsoon' %}">太阳能发电场</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'comingsoon' %}">智能制造</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            更多
          </a>
          <ul class="dropdown-menu dropdown-menu-dark">
            <li><a class="dropdown-item" href="{% url 'test2' %}">test2</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="{% url 'bttest' %}">bttest</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="{% url 'about' %}">关于我们</a>
        </li>
      </ul>
      {% block profile %}{% endblock %}
    </div> 
  </div>
</nav>

  {% if user.is_authenticated %}
  <!-- Side-Nav -->
<div class="side-navbar active-nav d-flex justify-content-between flex-wrap flex-column" id="sidebar">
  <ul class="nav flex-column text-white w-100">
    <a href="#" class="nav-link h3 text-white my-2">
      控制中心
    </a>
    <li href="#" class="nav-link text-white">
      <i class="bx bxs-dashboard"></i>
      <span class="mx-2">管理面板</span>
    </li>
    <li href="#" class="nav-link text-white">
      <i class='bx bx-network-chart'></i>
      <span class="mx-2">网络管理</span>
    </li>
    <li href="#" class="nav-link text-white">
      <i class="bx bx-hdd"></i>
      <span class="mx-2">通信网关</span>
    </li>
    <li href="#" class="nav-link text-white">
      <i class="bx bx-cable-car"></i>
      <span class="mx-2">支架控制</span>
    </li>
    <li href="#" class="nav-link text-white">
      <i class="bx bx-user-check"></i>
      <span class="mx-2">历史数据</span>
    </li>

    <li href="#" class="nav-link text-white">
      <i class="bx bx-conversation"></i>
      <span class="mx-2">计划任务</span>
    </li>
  </ul>

  <span href="#" class="nav-link h4 w-100 mb-5">
    <a href=""><i class="bx bxl-instagram-alt text-white"></i></a>
    <a href=""><i class="bx bxl-twitter px-2 text-white"></i></a>
    <a href=""><i class="bx bxl-facebook text-white"></i></a>
  </span>
</div>
  
  {% endif %}

<!-- Main Wrapper -->
<div class="p-1 my-container active-cont">
  <!-- Top Nav -->
  <nav class="navbar top-navbar navbar-light bg-light px-5">
    <a class="fas fa-bars" id="menu-btn"><i class="bx bx-menu"></i></a>
    <div class="container-fluid">
    {% block toptitle %}  {% endblock %}
    </div>
  </nav>
  <!--End Top Nav -->
  
  <div class="container-fluid">
    <div class="row flex-nowrap">

      {% if user.is_authenticated %}
        {% block sidebar %}{% endblock %}
      {% endif %}
      <div class="container-fluid">
          {% if messages %}
            {% for message in messages %}
              
              <div class="alert alert-warning alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
          {% endif%}
          {% block page_content %}{% endblock %}
      </div>
    </div>
  </div>


</div>


<!--
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@4.3.2/js/bootstrap5-toggle.min.js"></script>
 
<!-- custom js -->
<script type="text/javascript" src="{% static 'js/myapp.js' %}"></script>

<script>
  function getCookie(cName) {
      if (document.cookie.length > 0) {
          cStart = document.cookie.indexOf(cName + "=");
          if (cStart != -1) {
              cStart = cStart + cName.length + 1;
              cEnd = document.cookie.indexOf(";", cStart);
              if (cEnd == -1)
                  cEnd = document.cookie.length;
              return unescape(document.cookie.substring(cStart, cEnd));
          }
      }
      return "";
  }

  $.ajaxSetup({
      headers: {
          "X-CSRFToken": getCookie("csrftoken")
      }
  });

  $(document).ready(function() {
      $("#banner-link").on({
          "mouseover" : function() {
              $("#banner-logo").attr("src", "{% static 'images/Digi_logo_banner_gray.png' %}");
          },
          "mouseout" : function() {
              $("#banner-logo").attr("src", "{% static 'images/Digi_logo_banner.png' %}");
          }
      });
  });

  // Enable the tooltip library.
  $(function() {
      $('[data-toggle="tooltip"]').tooltip();
  });
  </script>

  <!-- Local JS files and functions -->
  <script type="text/javascript" src="{% static 'js/sidebar.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/jquery.pjax.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/jquery.matchHeight-min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/toastr.min.js' %}"></script>
  {% block javascript_outer %}{% endblock %}





  </body>
</html>